"use strict";(self.webpackChunkiam=self.webpackChunkiam||[]).push([[8536],{908:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>d});var r=i(4848),n=i(8453);const s={layout:"post",title:"CyberArk SCIM Server Authentication Using Credential Files"},a=void 0,o={permalink:"/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files",source:"@site/blog/2024-09-19-CyberArk SCIM Server Authentication Using Credential Files.md",title:"CyberArk SCIM Server Authentication Using Credential Files",description:"CyberArk SCIM Server Authentication Using Credential Files",date:"2024-09-19T00:00:00.000Z",tags:[],readingTime:3.15,hasTruncateMarker:!1,authors:[],frontMatter:{layout:"post",title:"CyberArk SCIM Server Authentication Using Credential Files"},unlisted:!1,prevItem:{title:"Identity Model in IdentityIQ",permalink:"/iam/blog/2024/09/20/iiq-identity-model"},nextItem:{title:"Integrating SailPoint with CyberArk Using SCIM Server Without AIM Credential Provider",permalink:"/iam/blog/2024/09/19/Sailpoint-CyberArk-Integration"}},l={authorsImageUrls:[]},d=[{value:"CyberArk SCIM Server Authentication Using Credential Files",id:"cyberark-scim-server-authentication-using-credential-files",level:3},{value:"What are the two internal authentication methods available for the CyberArk SCIM server?",id:"what-are-the-two-internal-authentication-methods-available-for-the-cyberark-scim-server",level:3}];function h(e){const t={code:"code",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h3,{id:"cyberark-scim-server-authentication-using-credential-files",children:"CyberArk SCIM Server Authentication Using Credential Files"}),"\n",(0,r.jsx)(t.p,{children:"The CyberArk SCIM server can authenticate to the CyberArk Vault using credential files, which is CyberArk's recommended method for enhanced security. This method avoids storing passwords directly and instead uses dynamically rotated credentials retrieved on demand."}),"\n",(0,r.jsx)(t.p,{children:"Here's how the process works:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Credential File Creation:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:'First, you need to identify the username associated with the SCIM-account object in the SCIM Config safe. This information is stored in the "UserName" file category property of the SCIM-account object.'}),"\n",(0,r.jsxs)(t.li,{children:["Next, create a credential file using the CyberArk ",(0,r.jsx)(t.code,{children:"CreateCredFile"}),' utility. The file name should be the same as the username identified in the previous step, with a ".cred" extension. For example, if the username is "SCIM-user", the credential file should be named "SCIM-user.cred".']}),"\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.code,{children:"CreateCredFile"})," utility takes several parameters, including the username, password, hostname, and entropy file. The specific command to create the credential file is provided in the sources."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Credential File Placement:"})," Once the credential file is created, it needs to be placed in the ",(0,r.jsx)(t.code,{children:"c:\\CyberArk-SCIM"})," folder along with its associated entropy file."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"SCIM Server Authentication:"}),' When the SCIM server needs to authenticate to the Vault, it first checks for a credential file with the name "SCIM-user.cred" in the ',(0,r.jsx)(t.code,{children:"c:\\CyberArk-SCIM"})," directory. If this file is found, the SCIM server uses the username from the credential file and the credential itself to authenticate to the Vault. The AIM Credential Provider is not used in this scenario."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Automatic Password Change:"})," When using credential files, the automatic password change feature is enabled. This means that every time the SCIM server logs into the Vault, a new randomized password is generated and updated in both the authentication file and the Vault."]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Fallback Mechanism:"})}),"\n",(0,r.jsx)(t.p,{children:'If a credential file named "SCIM-user.cred" is not found, the SCIM server will attempt to authenticate using the AIM Credential Provider.'}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Log Verification:"})}),"\n",(0,r.jsx)(t.p,{children:"The sources provide examples of debug and trace logs that can be used to verify whether the SCIM server is using a credential file or the AIM Credential Provider for authentication."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Additional Notes:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"The sources highlight that using the default authentication method (user-password credentials stored in the vault) can expose the password in Windows Audits if this feature is enabled at the OS level."}),"\n",(0,r.jsx)(t.li,{children:"For existing SCIM server installations (version 1.3.4 and earlier), CyberArk recommends upgrading to version 1.3.5 or later to take advantage of the credential file authentication method."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"By using credential files, the CyberArk SCIM server benefits from a more secure authentication method, reducing the risks associated with storing and managing passwords directly."}),"\n",(0,r.jsx)(t.h3,{id:"what-are-the-two-internal-authentication-methods-available-for-the-cyberark-scim-server",children:"What are the two internal authentication methods available for the CyberArk SCIM server?"}),"\n",(0,r.jsx)(t.p,{children:"The two internal authentication methods available for the CyberArk SCIM server are:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"CyberArk Credential Files (Recommended):"})," This method, introduced in SCIM version 1.3.5, enhances security by using dynamically rotated credentials instead of a stored password. CyberArk recommends this method."]}),"\n",(0,r.jsxs)(t.p,{children:["To implement this method, a credential file containing the username from the SCIM-account object must be created and stored in the ",(0,r.jsx)(t.code,{children:"c:\\CyberArk-SCIM"})," folder. When the SCIM server needs to authenticate to the Vault, it will prioritize using this credential file over the AIM Credential Provider."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Username-password credentials stored in the vault (default):"})," This method uses the AIM Credential Provider to retrieve the username and password for the SCIM server from the CyberArk Vault. This method is the default but is less secure than using credential files because it requires storing the password in the Vault. The sources note that this method can expose the password in the Windows audit logs if Windows Audits is enabled at the OS level."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"The sources recommend using credential files over the AIM Credential Provider and suggest upgrading to SCIM Server version 1.3.5 or later to utilize this authentication method."})]})}function c(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>o});var r=i(6540);const n={},s=r.createContext(n);function a(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);