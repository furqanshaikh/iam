<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">CyberArk SCIM Server Authentication Using Credential Files | IAM Documentation</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://furqanshaikh.github.io/iam/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://furqanshaikh.github.io/iam/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://furqanshaikh.github.io/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="CyberArk SCIM Server Authentication Using Credential Files | IAM Documentation"><meta data-rh="true" name="description" content="CyberArk SCIM Server Authentication Using Credential Files"><meta data-rh="true" property="og:description" content="CyberArk SCIM Server Authentication Using Credential Files"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-09-19T00:00:00.000Z"><link data-rh="true" rel="icon" href="/iam/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://furqanshaikh.github.io/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files"><link data-rh="true" rel="alternate" href="https://furqanshaikh.github.io/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files" hreflang="en"><link data-rh="true" rel="alternate" href="https://furqanshaikh.github.io/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://furqanshaikh.github.io/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files","mainEntityOfPage":"https://furqanshaikh.github.io/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files","url":"https://furqanshaikh.github.io/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files","headline":"CyberArk SCIM Server Authentication Using Credential Files","name":"CyberArk SCIM Server Authentication Using Credential Files","description":"CyberArk SCIM Server Authentication Using Credential Files","datePublished":"2024-09-19T00:00:00.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://furqanshaikh.github.io/iam/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/iam/blog/rss.xml" title="IAM Documentation RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/iam/blog/atom.xml" title="IAM Documentation Atom Feed"><link rel="stylesheet" href="/iam/assets/css/styles.5d761630.css">
<script src="/iam/assets/js/runtime~main.2f60e49d.js" defer="defer"></script>
<script src="/iam/assets/js/main.fcee9de7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/iam/"><div class="navbar__logo"><img src="/iam/img/logo.svg" alt="IAM_Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/iam/img/logo.svg" alt="IAM_Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">IGA Docs</b></a><a class="navbar__item navbar__link" href="/iam/docs/intro">OIM</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/iam/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/furqanshaikh/iam" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2024</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/iam/blog/first-post">first-post</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/iam/blog/2024/09/20/iiq-identity-model">Identity Model in IdentityIQ</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/iam/blog/2024/09/19/CyberArk SCIM Server Authentication Using Credential Files">CyberArk SCIM Server Authentication Using Credential Files</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/iam/blog/2024/09/19/Sailpoint-CyberArk-Integration">Integrating SailPoint with CyberArk Using SCIM Server Without AIM Credential Provider</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/iam/blog/2024/07/22/sailpoint-teams-integration">Configuring a Private Server for IdentityIQ&#x27;s Microsoft Teams Service Code</a></li></ul></div></nav></aside><main class="col col--7"><article><header><h1 class="title_f1Hy">CyberArk SCIM Server Authentication Using Credential Files</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-09-19T00:00:00.000Z">September 19, 2024</time> · <!-- -->4 min read</div></header><div id="__blog-post-container" class="markdown"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="cyberark-scim-server-authentication-using-credential-files">CyberArk SCIM Server Authentication Using Credential Files<a href="#cyberark-scim-server-authentication-using-credential-files" class="hash-link" aria-label="Direct link to CyberArk SCIM Server Authentication Using Credential Files" title="Direct link to CyberArk SCIM Server Authentication Using Credential Files">​</a></h3>
<p>The CyberArk SCIM server can authenticate to the CyberArk Vault using credential files, which is CyberArk&#x27;s recommended method for enhanced security. This method avoids storing passwords directly and instead uses dynamically rotated credentials retrieved on demand.</p>
<p>Here&#x27;s how the process works:</p>
<ol>
<li><strong>Credential File Creation:</strong>
<ul>
<li>First, you need to identify the username associated with the SCIM-account object in the SCIM Config safe. This information is stored in the &quot;UserName&quot; file category property of the SCIM-account object.</li>
<li>Next, create a credential file using the CyberArk <code>CreateCredFile</code> utility. The file name should be the same as the username identified in the previous step, with a &quot;.cred&quot; extension. For example, if the username is &quot;SCIM-user&quot;, the credential file should be named &quot;SCIM-user.cred&quot;.</li>
<li>The <code>CreateCredFile</code> utility takes several parameters, including the username, password, hostname, and entropy file. The specific command to create the credential file is provided in the sources.</li>
</ul>
</li>
<li><strong>Credential File Placement:</strong> Once the credential file is created, it needs to be placed in the <code>c:\CyberArk-SCIM</code> folder along with its associated entropy file.</li>
<li><strong>SCIM Server Authentication:</strong> When the SCIM server needs to authenticate to the Vault, it first checks for a credential file with the name &quot;SCIM-user.cred&quot; in the <code>c:\CyberArk-SCIM</code> directory. If this file is found, the SCIM server uses the username from the credential file and the credential itself to authenticate to the Vault. The AIM Credential Provider is not used in this scenario.</li>
<li><strong>Automatic Password Change:</strong> When using credential files, the automatic password change feature is enabled. This means that every time the SCIM server logs into the Vault, a new randomized password is generated and updated in both the authentication file and the Vault.</li>
</ol>
<p><strong>Fallback Mechanism:</strong></p>
<p>If a credential file named &quot;SCIM-user.cred&quot; is not found, the SCIM server will attempt to authenticate using the AIM Credential Provider.</p>
<p><strong>Log Verification:</strong></p>
<p>The sources provide examples of debug and trace logs that can be used to verify whether the SCIM server is using a credential file or the AIM Credential Provider for authentication.</p>
<p><strong>Additional Notes:</strong></p>
<ul>
<li>The sources highlight that using the default authentication method (user-password credentials stored in the vault) can expose the password in Windows Audits if this feature is enabled at the OS level.</li>
<li>For existing SCIM server installations (version 1.3.4 and earlier), CyberArk recommends upgrading to version 1.3.5 or later to take advantage of the credential file authentication method.</li>
</ul>
<p>By using credential files, the CyberArk SCIM server benefits from a more secure authentication method, reducing the risks associated with storing and managing passwords directly.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-are-the-two-internal-authentication-methods-available-for-the-cyberark-scim-server">What are the two internal authentication methods available for the CyberArk SCIM server?<a href="#what-are-the-two-internal-authentication-methods-available-for-the-cyberark-scim-server" class="hash-link" aria-label="Direct link to What are the two internal authentication methods available for the CyberArk SCIM server?" title="Direct link to What are the two internal authentication methods available for the CyberArk SCIM server?">​</a></h3>
<p>The two internal authentication methods available for the CyberArk SCIM server are:</p>
<ul>
<li>
<p><strong>CyberArk Credential Files (Recommended):</strong> This method, introduced in SCIM version 1.3.5, enhances security by using dynamically rotated credentials instead of a stored password. CyberArk recommends this method.</p>
<p>To implement this method, a credential file containing the username from the SCIM-account object must be created and stored in the <code>c:\CyberArk-SCIM</code> folder. When the SCIM server needs to authenticate to the Vault, it will prioritize using this credential file over the AIM Credential Provider.</p>
</li>
<li>
<p><strong>Username-password credentials stored in the vault (default):</strong> This method uses the AIM Credential Provider to retrieve the username and password for the SCIM server from the CyberArk Vault. This method is the default but is less secure than using credential files because it requires storing the password in the Vault. The sources note that this method can expose the password in the Windows audit logs if Windows Audits is enabled at the OS level.</p>
</li>
</ul>
<p>The sources recommend using credential files over the AIM Credential Provider and suggest upgrading to SCIM Server version 1.3.5 or later to utilize this authentication method.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/iam/blog/2024/09/20/iiq-identity-model"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Identity Model in IdentityIQ</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/iam/blog/2024/09/19/Sailpoint-CyberArk-Integration"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Integrating SailPoint with CyberArk Using SCIM Server Without AIM Credential Provider</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cyberark-scim-server-authentication-using-credential-files" class="table-of-contents__link toc-highlight">CyberArk SCIM Server Authentication Using Credential Files</a></li><li><a href="#what-are-the-two-internal-authentication-methods-available-for-the-cyberark-scim-server" class="table-of-contents__link toc-highlight">What are the two internal authentication methods available for the CyberArk SCIM server?</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/iam/docs/intro">OIM Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/iam/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 IAM Docs, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>